<html ng-app="treehouseCourse">
  <head>
    <style type="text/css">
      .main, .debug {
        width: 48%;
      }

      .main {
        float: left;
      }

      .debug {
        float: right;
      }

      #people li {
        display: block;
        margin-bottom: 1.5em;
      }

      #people li .name {
        font-weight: bold;
        margin-right: 1em;
      }

      #people li .profession {
        margin-right: 1em;
      }

      #people li .hometown {
        font-style: italic;
      }
      
      #people li button {
        margin-left: 1em;
      }
    </style>
  </head>
  <body ng-controller="stageCtrl">
    <!-- pull read-only data from the controller (var title)-->
    <h1>{{title.name}}</h1>
    <div class="main">
      <ul id="people">
        <!-- parse through controller variable (var people) -->
        <li ng-repeat="person in people" ng-class="person.profession">
          <span class="name">
            {{person.name}}
          </span>
          <span class="profession">
            {{person.profession}}
          </span>
          <span class="hometown">
            {{person.hometown}}
          </span>
          <!-- assign button with controller method (edit and remove) -->
          <button ng-click="edit(person)">Edit</button>
          <button ng-click="remove(person)">Remove</button>
        </li>
      </ul>
      <button ng-click="add()">Add</button>
      <form class="fields">
        <label>
          Name:
          <!-- fill the input fields with the controller varaible (var editingPerson) -->
          <!-- able to modify these fields because not read-only {{var}} -->
          <!-- ng-model links the view data to the model's data -->
          <input type="text" ng-model="editingPerson.name" />
        </label>
        <label>
          Profession:
          <input type="text" ng-model="editingPerson.profession" />
        </label>
        <label>
          Hometown:
          <input type="text" ng-model="editingPerson.hometown" />
        </label>
        <label>
          Email addresses:
          <!-- ng-list to add an array to the backend model -->
          <input type="text" ng-model="editingPerson.emails" ng-list />
        </label>
      </form>
      <button ng-click="save(editingPerson)">Save</button>
    </div>
    <div class="debug">
      <pre ng-bind="people | json">
      </pre>
    </div>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
  </body>
</html>